version: 2
sources:
  - name: iri_raw_beer_sources
    description: |
      These contain the tables loaded from the airbyte with raw data of the file that was generated for the day, the idea is to have
      truncate the table and upsert the data to the mart everyday. This uses the snowflakes own merge statement to do the upsert.
      Notes: 
          All the files have nulls in delivery date and category, either we need to add it based on the file type or exclude it. 
          The only needed field is the topcategoryname, so lets default it to the file name.
    database: cpgcompany
    loader: snowsql
    schema: raw
    tables:
      - name: IRI_SALES_DAILY_BEER
        description: |
          This table contains beer, wine and spirits data from iri, all the fields are loaded as strings and 
          will need to be casted to the correct data type 
        columns:
          - name: _AIRBYTE_RAW_ID
            description: |
              This is the column segment
          - name: _AIRBYTE_EXTRACTED_AT
            description: |
              This is the beverage segment
          - name: _AIRBYTE_META
            description: |
              This is the brand name
          - name: AAB
            description: |
              This is the name of the catalog item
          - name: SIZE
            description: |
              This is the name of the raw item
          - name: TIME
            description: |
              This is the top level category of the item
          - name: BRAND
            description: |
              This is the top subcategory of the item
          - name: STATE
            description: |
              This is the subcategory of the item
          - name: STYLE
            description: |
              This is the unique identifier for the catalog item
          - name: FLAVOR
            description: |
              This is the state where the order was delivered
          - name: $ SALES
            description: |
              This is the zipcode where the order was delivered
          - name: CBI FLG
            description: |
              This is the market where the store is located
          - name: PACKAGE
            description: |
              This is the type of container
          - name: SEGMENT
            description: |
              This is the volume of the item
          - name: CATEGORY
            description: |
              This is the units of the volume
          - name: SUPPLIER
            description: |
              This is the unit price of the item
          - name: GEOGRAPHY
            description: |
              This is the verified UPC of the item
          - name: TIME WEEK
            description: |
              This is the fulfillment type of the order
          - name: $ SALES YA
            description: |
              This is whether the customer is new or returning
          - name: BEV SEGMENT
            description: |
              This is the device used to place the order
          - name: SUBCATEGORY
            description: |
              This is the total quantity of the item
          - name: BRAND FAMILY
            description: |
              This is the total gross merchandise value of the item 
          - name: UPC 13 DIGIT
            description: |
              This is the total gross merchandise value of the item
          - name: $ SALES % CHG
            description: |
              This is the total gross merchandise value of the item 
          - name: PRICE SEGMENT
            description: |
              This is the total gross merchandise value of the item
          - name: RMA_CROM FLAG
            description: |
              This is the total gross merchandise value of the item  
          - name: IRI ASPIRA TIER
            description: |
              This is the total gross merchandise value of the item  
          - name: DOM VS IMP VALUE
            description: |
              This is the total gross merchandise value of the item     
          - name: ITEM DESCRIPTION
            description: |
              This is the total gross merchandise value of the item       
          - name: AVG PRICE PER CASE
            description: |
              This is the total gross merchandise value of the item
          - name: PRODUCT DESCRIPTION
            description: |
              This is the total gross merchandise value of the item
          - name: IRI PORTFOLIO SEGMENT
            description: |
              This is the total gross merchandise value of the item
          - name: GEOGRAPHY CLASSIFICATION
            description: |
              This is the total gross merchandise value of the item
          - name: IRI BRAND PRIORITY GROUP
            description: |
              This is the total gross merchandise value of the item  
          - name: IRI FY NATIONAL FOCUS BRAND
            description: |
              This is the total gross merchandise value of the item  
          - name: _AB_SOURCE_FILE_LAST_MODIFIED
            description: |
              This is the total gross merchandise value of the item 